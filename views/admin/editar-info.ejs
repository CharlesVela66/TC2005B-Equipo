<%- include('../includes/head.ejs'); %>

<style>
  .card_profile{
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
    max-width: 500px;
    margin: auto;
    text-align: center;
    border-top-right-radius: 5%;
    border-top-left-radius: 5%;
    background-color: rgb(58, 58, 58);  
  }

  a {
    text-decoration: none;
    font-size: 22px;
    color: black;
  }

  .form_group {
    text-align: left;
    margin-bottom: 15px;
    margin-left: 15px;
    margin-right: 15px;
  }

  label {
    display: block;
    font-weight: bold;
    color: #3372b5;
    margin-bottom: 5px;
  }

  input, select {
    width: 100%;
    padding: 8px 12px;
    margin: 0 0 10px;
    display: inline-block;
    border: 1px solid #ccc;
    box-sizing: border-box;
  }

  input[type='submit'] {
    width: 100%;
    background-color: rgba(31, 93, 240, 0.7);
    color: white;
    padding: 14px 20px; 
    border: none;
    cursor: pointer;
    font-size: 16px;
  }

  input[type='submit']:hover {
    opacity: 0.7;
  }

  a {
    text-decoration: none;
    font-size: 16px;
    color: black;
  }

  a:hover {
    opacity: 0.7;
  }

  .back_button{
    color: rgb(142, 137, 137);
    font-weight: bold;
    font-size: larger;
  }

  .title{
    color: azure;
    font-size: 15px;
  }
</style>

<br>
<a href='/perfil/ver-info' class='back_button'> < Volver atrás</a>
<div class='card_profile'>
  <h1 class='title is-2' style="padding-top: 5px;">Editar información de administrador</h1>

  <% if (usuario) { %>
    <form method='POST' action='/perfil/editar-info' enctype='multipart/form-data' onsubmit='return confirmarCambios();'>

      <input type='hidden' name='_csrf' value='<%= csrfToken %>' >

      <div class='form_group'>
      <input type='hidden' name='id' value='<%= usuario.id_usuario  %>' >
      </div>

      <div class='form_group'>
        <label for='nombre'>Nombre de usuario</label>
        <input type='text' id='nombre' name='nombre' value='<%= usuario.nombre %>' placeholder='<%= usuario.nombre %>' maxlength='30' required>
      </div>

      <div class='form_group'>
        <label for='apellido'>Apellido de usuario</label>
        <input type='text' id='apellido' name='apellido' value='<%= usuario.apellido %>' placeholder='<%= usuario.apellido %>' maxlength='30'  required>
      </div>

      <div class='form_group'>
        <label for='imagen'>Foto de perfil</label>
        <input type='file' id='imagen' name='imagen'>
      </div>

      <input type='submit' value='Guardar cambios'>
    </form>
  <% } else { %>
    <p>No se pudo encontrar la información del administrador.</p>
  <% } %>
</div>

<script>
  function confirmarCambios() {
    return confirm('¿Estás seguro de guardar los cambios?');
  }
</script>

<%- include('../includes/foot.ejs'); %>
